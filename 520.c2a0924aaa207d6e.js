"use strict";(self.webpackChunkVitaparapharma=self.webpackChunkVitaparapharma||[]).push([[520],{2451:(D,v,o)=>{o.d(v,{I:()=>O});var t=o(4946),p=o(5244),f=o(3596),l=o(4817),g=o(6814),h=o(95),m=o(228),a=o(5219),x=o(6022),n=o(4532);let u=(()=>{class i{transform(r){return Math.floor(r)}static#t=this.\u0275fac=function(e){return new(e||i)};static#r=this.\u0275pipe=t.Yjl({name:"floor",type:i,pure:!0})}return i})();const C=function(i){return{"filled-heart":i}};function c(i,_){if(1&i&&(t.ynx(0),t._UZ(1,"i",15),t.BQk()),2&i){const r=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(1,C,r.productCardData.inWishlist))}}const d=function(i){return{"outlined-heart":i}};function P(i,_){if(1&i&&t._UZ(0,"i",16),2&i){const r=t.oxw(2);t.Q6J("ngClass",t.VKq(1,d,!r.productCardData.inWishlist))}}function T(i,_){if(1&i){const r=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.toggleWishlist(s.productCardData.productId))}),t.TgZ(1,"div",9),t.YNc(2,c,2,3,"ng-container",10),t.YNc(3,P,1,3,"ng-template",null,11,t.W1O),t.qZA(),t._UZ(5,"p",12),t.qZA(),t.TgZ(6,"a",13),t._UZ(7,"img",14),t.qZA()}if(2&i){const r=t.MAs(4),e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.productCardData.inWishlist)("ngIfElse",r),t.xp6(4),t.Q6J("routerLink",e.getRouterLink()),t.xp6(1),t.Q6J("src",e.productCardData.pictures[0],t.LSH)}}function M(i,_){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"floor"),t.qZA()),2&i){const r=t.oxw();t.xp6(1),t.hij("-",t.lcZ(2,1,(r.productCardData.priceBeforeDiscount-r.productCardData.priceAfterDiscount)/r.productCardData.priceBeforeDiscount*100),"%")}}function I(i,_){if(1&i){const r=t.EpF();t.TgZ(0,"div",18)(1,"button",19),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.onAddToCart(s.productCardData.productId))}),t._uU(2,"Add To cart"),t.qZA()()}if(2&i){const r=t.oxw();t.xp6(1),t.Q6J("disabled",!r.isLoggedIn)}}const w=function(i,_){return{success:i,error:_}};function U(i,_){if(1&i){const r=t.EpF();t.TgZ(0,"div",20)(1,"div",21),t._uU(2),t.qZA(),t.TgZ(3,"button",22),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.clearNotification())}),t._uU(4,"Close"),t.qZA()()}if(2&i){const r=t.oxw();t.Q6J("ngClass",t.WLB(2,w,"success"===r.notificationType,"error"===r.notificationType)),t.xp6(2),t.Oqu(r.notificationMessage)}}const E=function(){return{color:"var(--secondaryColor)",margin:"0",paddingTop:"0"}};let O=(()=>{class i{constructor(r,e,s){this.loginService=r,this.productService=e,this.cartService=s,this.DataOfProduct=[],this.isLoggedIn=!1,this.notificationMessage=null,this.notificationType="success",this.productCardData={name:"",description:"",about:"",categoryId:0,discount:!0,inCart:!1,inWishlist:!1,mainCategoryId:0,pictures:[],priceBeforeDiscount:0,priceAfterDiscount:0,productId:1,rating:0,reviews:0,stockQuantity:0,tags:[],weight:0,price:0},this.CardData={id:0,haveSale:!1,imgURL:"",productName:"",productDescription:"",productPrice:0,productRate:0,sale:0},this.origin=""}ngOnInit(){this.loginService.isLoggedIn$().subscribe(r=>{this.isLoggedIn=r}),this.isLoggedIn&&this.checkWishlistStatus()}getRouterLink(){return"home"===this.origin?`shop/${this.productCardData.productId}`:"shop"===this.origin?`${this.productCardData.productId}`:"single-product"===this.origin?`../${this.productCardData.productId}`:"wishlist"===this.origin?`/shop/${this.productCardData.productId}`:"shop"}DisplaySalePos(){return!("shop"===this.origin||!this.productCardData.discount||isNaN((this.productCardData.priceBeforeDiscount-this.productCardData.priceAfterDiscount)/this.productCardData.priceBeforeDiscount*100))}onAddToCart(r){this.isLoggedIn?this.cartService.updateCart(r,1).subscribe(e=>{e.success?this.showNotification("Product added to cart successfully.","success"):this.showNotification("Failed to add product to cart.","error")},e=>{console.error("Error adding product to cart",e),this.showNotification("An error occurred while adding the product to the cart.","error")}):this.showNotification("Please login first.","error")}showNotification(r,e){this.notificationMessage=r,this.notificationType=e,setTimeout(()=>{this.clearNotification()},3e3)}clearNotification(){this.notificationMessage=null}checkWishlistStatus(){this.productService.getWishlist().subscribe({next:r=>{this.productCardData.inWishlist=r.some(e=>e.toString()===this.productCardData.productId.toString())}})}toggleWishlist(r){this.isLoggedIn?this.productCardData.inWishlist?this.removeFromWishlist(r):this.addToWishlist(r):this.showNotification("Please login first.","error")}addToWishlist(r){this.productService.addToWishlist(r.toString()).subscribe(()=>{this.productCardData.inWishlist=!0},e=>{console.error("Error adding to wishlist:",e)})}removeFromWishlist(r){this.productService.removeFromWishlist(r.toString()).subscribe(()=>{this.productCardData.inWishlist=!1},e=>{console.error("Error removing from wishlist:",e)})}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(p.r),t.Y36(f.M),t.Y36(l.N))};static#r=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-productcard"]],inputs:{productCardData:"productCardData",CardData:"CardData",origin:"origin"},decls:13,vars:21,consts:[[1,"card","flex","justify-content-center","product-card","position-relative","mb-5"],["styleClass","product-card",3,"header","subheader"],["pTemplate","header"],["class","sale-pos",4,"ngIf"],["starStyleClass","custom-stars",3,"ngModel","cancel","ngModelChange"],[1,"price"],["pTemplate","footer"],["class","custom-notification",3,"ngClass",4,"ngIf"],[1,"d-flex","align-items-center","mt-3","wish",3,"click"],[2,"cursor","pointer"],[4,"ngIf","ngIfElse"],["notInWishlist",""],[1,"m-0","p-0",2,"cursor","pointer"],[3,"routerLink"],["alt","Card",3,"src"],[1,"pi","pi-heart-fill","me-2",3,"ngClass"],[1,"pi","pi-heart","me-2",3,"ngClass"],[1,"sale-pos"],[1,"flex","gap-3","mt-1"],[1,"btn-main",3,"disabled","click"],[1,"custom-notification",3,"ngClass"],[1,"message"],[1,"close-button",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"p-card",1),t.ALo(2,"slice"),t.ALo(3,"slice"),t.YNc(4,T,8,4,"ng-template",2),t.YNc(5,M,3,3,"div",3),t.TgZ(6,"div")(7,"p-rating",4),t.NdJ("ngModelChange",function(A){return s.productCardData.reviews=A}),t.qZA(),t.TgZ(8,"div",5),t._uU(9),t.ALo(10,"currency"),t.qZA()(),t.YNc(11,I,3,1,"ng-template",6),t.qZA(),t.YNc(12,U,5,5,"div",7),t.qZA()),2&e&&(t.xp6(1),t.Akn(t.DdM(20,E)),t.Q6J("header",t.Dn7(2,9,s.productCardData.name,0,20))("subheader",t.Dn7(3,13,s.productCardData.about,0,100)),t.xp6(4),t.Q6J("ngIf",s.DisplaySalePos()),t.xp6(2),t.Q6J("ngModel",s.productCardData.reviews)("cancel",!1),t.xp6(2),t.Oqu(t.xi3(10,17,s.productCardData.priceAfterDiscount,"USD")),t.xp6(3),t.Q6J("ngIf",s.notificationMessage))},dependencies:[g.mk,g.O5,h.JJ,h.On,m.rH,a.jx,x.iG,n.Z,g.OU,g.H9,u],styles:[".card[_ngcontent-%COMP%]{background-color:#fff!important}.product-card[_ngcontent-%COMP%]{box-shadow:#63636323 0 2px 8px;padding:10px;text-align:center;border:0;position:relative}.price[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-top:10px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:195px}.custom-notification[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;border-radius:8px;background-color:#000c;color:#fff;font-size:18px;text-align:center;z-index:1000;box-shadow:0 8px 16px #0000004d}.success[_ngcontent-%COMP%]{background-color:#80aa27}.error[_ngcontent-%COMP%]{background-color:#f44336}.message[_ngcontent-%COMP%]{margin-bottom:10px}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;font-weight:700}i[_ngcontent-%COMP%]{position:absolute;top:2%;right:2%;font-size:20px;text-align:right}.pi-heart-fill[_ngcontent-%COMP%]{color:red}"]})}return i})()},3596:(D,v,o)=>{o.d(v,{M:()=>m});var t=o(9862),p=o(8504),f=o(7398),l=o(6306),g=o(553),h=o(4946);let m=(()=>{class a{constructor(n){this._HttpClient=n,this.apiUrl="",this.ProductUrl="https://api.vitaparapharma.com/api/v3/public/product"}getSingleProduct(n){return this.apiUrl=g.N.baseUrl+"v4/public/product/"+n,this._HttpClient.get(this.apiUrl)}getCategoryListOfProduct(n){return this.apiUrl=g.N.baseUrl+"v1/public/category/all-lang/"+n,this._HttpClient.get(this.apiUrl)}getAllProducts(){return this._HttpClient.get(this.ProductUrl+"/all")}getProductsByCategory(n){return this._HttpClient.get(`${this.ProductUrl+"/category/"}${n}`)}getWishlist(){const n=localStorage.getItem("eToken");if(!n)return(0,p._)("User not authenticated");const u=new t.WM({Authorization:`Bearer ${n}`});return this._HttpClient.get(`${g.N.baseUrl}v1/user/wishlist/my`,{headers:u}).pipe((0,f.U)(c=>{if(c&&c.data&&c.data.wishlist&&c.data.wishlist.wishlistItems)return c.data.wishlist.wishlistItems.map(d=>d.productId);throw new Error("Invalid response format")}),(0,l.K)(c=>(console.error("Error fetching wishlist:",c),(0,p._)("Error fetching wishlist: "+c.message))))}addToWishlist(n){const u=localStorage.getItem("eToken");if(!u)return(0,p._)("User not authenticated");const C=new t.WM({Authorization:`Bearer ${u}`});return this._HttpClient.put(`${g.N.baseUrl}v1/user/wishlist/add/${n}`,null,{headers:C}).pipe((0,f.U)(d=>d),(0,l.K)(d=>(console.error("Error adding to wishlist:",d),(0,p._)("Error adding to wishlist: "+d.message))))}removeFromWishlist(n){const u=localStorage.getItem("eToken");if(!u)return(0,p._)("User not authenticated");const C=new t.WM({Authorization:`Bearer ${u}`});return this._HttpClient.delete(`${g.N.baseUrl}/v1/user/wishlist/remove/${n}`,{headers:C}).pipe((0,f.U)(d=>d),(0,l.K)(d=>(console.error("Error removing from wishlist:",d),(0,p._)("Error removing from wishlist: "+d.message))))}static#t=this.\u0275fac=function(u){return new(u||a)(h.LFG(t.eN))};static#r=this.\u0275prov=h.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},2537:(D,v,o)=>{o.d(v,{w:()=>f});var t=o(4946),p=o(4713);let f=(()=>{class l extends p.s{static \u0275fac=function(){let h;return function(a){return(h||(h=t.n5z(l)))(a||l)}}();static \u0275cmp=t.Xpm({type:l,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(m,a){1&m&&(t.O4$(),t.TgZ(0,"svg",0),t._UZ(1,"path",1),t.qZA()),2&m&&(t.Tol(a.getClassNames()),t.uIk("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return l})()}}]);