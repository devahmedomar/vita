"use strict";(self.webpackChunkVitaparapharma=self.webpackChunkVitaparapharma||[]).push([[592],{1391:(d,_,a)=>{a.d(_,{p:()=>h});var s=a(8209),p=a(5244),u=a(9291),g=a(2425);const h=(E,v)=>{const l=(0,u.f3M)(p.r),P=(0,u.f3M)(s.F0),r=(0,u.f3M)(g._W);return l.isLoggedIn$().subscribe(n=>!!n||(r.error("Login First"),P.navigate(["/auth/login"]),!1)),!0}},8287:(d,_,a)=>{a.d(_,{Z:()=>v});var s=a(9862),p=a(7394),u=a(553),g=a(9291),h=a(3911),E=a(8209);let v=(()=>{class l{constructor(r,n,t){this._HttpClient=r,this.translate=n,this.router=t,this.apiUrl=u.N.baseUrl+"v4/public/post/all",this.langChangeSubscription=new p.w0,this.translate.use(localStorage.getItem("lang")||"en"),this.langChangeSubscription=this.translate.onLangChange.subscribe(e=>{this.refreshPage()})}getBlogs(r,n,t){const e=this.translate.currentLang,o=(new s.WM).set("Accept-Language",e);let i=(new s.LE).set("page",r.toString()).set("size",n.toString());return t&&(i=i.set("tags",t)),this._HttpClient.get(this.apiUrl,{headers:o,params:i})}getBlogsByTag(r,n,t){const e=this.translate.currentLang,o=(new s.WM).set("Accept-Language",e),i=(new s.LE).set("page",r.toString()).set("size",n.toString()).set("tags",t);return this._HttpClient.get(this.apiUrl,{headers:o,params:i})}getSingleBlog(r){const n=this.translate.currentLang,t=(new s.WM).set("Accept-Language",n);return this._HttpClient.get(`https://api.vitaparapharma.com/api/v1/public/post/${r}`,{headers:t})}ngOnDestroy(){this.langChangeSubscription&&this.langChangeSubscription.unsubscribe()}refreshPage(){const r=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigateByUrl(r)})}getUserPost(r,n){const t=`https://api.vitaparapharma.com/api/v1/user/post/${r}`,e=new s.WM({Authorization:`Bearer ${n}`});return this._HttpClient.get(t,{headers:e})}likePost(r,n){const t=`https://api.vitaparapharma.com/api/v1/user/like/${r}`,e=new s.WM({Authorization:`Bearer ${n}`});return this._HttpClient.put(t,{},{headers:e})}unlikePost(r,n){const t=`https://api.vitaparapharma.com/api/v1/user/unlike/${r}`,e=new s.WM({Authorization:`Bearer ${n}`});return this._HttpClient.delete(t,{headers:e})}dislikePost(r,n){const t=`https://api.vitaparapharma.com/api/v1/user/dislike/${r}`,e=new s.WM({Authorization:`Bearer ${n}`});return this._HttpClient.put(t,{},{headers:e})}getTags(){return this._HttpClient.get("https://api.vitaparapharma.com/api/v4/public/tag")}static#t=this.\u0275fac=function(n){return new(n||l)(g.LFG(s.eN),g.LFG(h.sK),g.LFG(E.F0))};static#r=this.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},1855:(d,_,a)=>{a.d(_,{p:()=>P});var s=a(9862),p=a(7394),u=a(2096),g=a(6306),h=a(9291),E=a(8209),v=a(2425),l=a(3911);let P=(()=>{class r{constructor(t,e,o,i){this.http=t,this.router=e,this.toaster=o,this.translate=i,this.langChangeSubscription=new p.w0,this.apiUrl="https://api.vitaparapharma.com/api/v2/user/order/",this.translate.use(localStorage.getItem("lang")||"en"),this.langChangeSubscription=this.translate.onLangChange.subscribe(c=>{this.refreshPage(),this.translate.use(localStorage.getItem("lang")||"en")})}refreshPage(){const t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigateByUrl(t)})}checkOrder(t,e,o){const i=this.apiUrl+"check/order",c=new s.WM({"Content-Type":"application/json",Authorization:`Bearer ${t}`}),M={orderItems:e,coupon:o};return console.log(M),this.http.post(i,M,{headers:c})}addOrder(t,e,o,i){const c=`${this.apiUrl+"new"}/on/${e}`,M=new s.WM({"Content-Type":"application/json",Authorization:`Bearer ${t}`}),L={orderItems:o,coupon:i};return console.log(L),this.http.post(c,L,{headers:M})}handleAuthError(){return this.toaster.error("You Need To Login First"),this.router.navigate(["/"]),(0,u.of)(null)}getAllOrders(){const t=localStorage.getItem("eToken"),e=new s.WM({Authorization:`Bearer ${t}`});return this.http.get(this.apiUrl+"all",{headers:e}).pipe((0,g.K)(o=>{throw"Error fetching orders: "+o}))}getOrderById(t){const e=`${this.apiUrl}/${t}`,o=localStorage.getItem("eToken"),i=this.translate.currentLang,c=new s.WM({Authorization:`Bearer ${o}`}).set("Accept-Language",i);return this.http.get(e,{headers:c})}static#t=this.\u0275fac=function(e){return new(e||r)(h.LFG(s.eN),h.LFG(E.F0),h.LFG(v._W),h.LFG(l.sK))};static#r=this.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);