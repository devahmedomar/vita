"use strict";(self.webpackChunkVitaparapharma=self.webpackChunkVitaparapharma||[]).push([[781],{9781:($e,v,l)=>{l.r(v),l.d(v,{ShopModule:()=>We});var d=l(6814),h=l(8209),e=l(9291),f=l(3596),u=l(8672),b=l(4518),_=l(281),S=l(2451),P=l(2785),c=l(6223);function A(i,r){1&i&&e._UZ(0,"app-productcard",16),2&i&&e.Q6J("productCardData",r.$implicit)}let R=(()=>{class i{constructor(t,o){this.productService=t,this.spinner=o,this.shopBreadCrumbData={title:"Shop",prev:"home"},this.products=[],this.paginatedProducts=[],this.pageIndex=0,this.pageSize=12,this.totalItems=0,this.selectedSortOption="default"}ngOnInit(){this.fetchProducts()}fetchProducts(){this.spinner.show(),this.productService.getAllProducts().subscribe(t=>{t&&t.success?(this.products=t.data.products,this.totalItems=this.products.length,this.paginateAndSort()):console.error("Error fetching products:",t.message),this.spinner.hide()},t=>{console.error("Error fetching products",t),this.spinner.hide()})}paginateAndSort(){const t=this.pageIndex*this.pageSize;this.paginatedProducts=this.products.slice(t,t+this.pageSize),this.sortProducts()}sortProducts(){switch(this.selectedSortOption){case"popularity":this.sortByPopularity();break;case"rating":this.sortByAverageRating();break;case"latest":this.sortByLatest();break;case"lowToHigh":this.sortByPriceLowToHigh();break;case"highToLow":this.sortByPriceHighToLow()}}sortByPopularity(){this.paginatedProducts.sort((t,o)=>o.stockQuantity-t.stockQuantity)}sortByAverageRating(){this.paginatedProducts.sort((t,o)=>o.rating-t.rating)}sortByLatest(){this.paginatedProducts.sort((t,o)=>o.productId-t.productId)}sortByPriceLowToHigh(){this.paginatedProducts.sort((t,o)=>t.price-o.price)}sortByPriceHighToLow(){this.paginatedProducts.sort((t,o)=>o.price-t.price)}onSortOptionChange(t){t&&t.target&&t.target.value&&(this.selectedSortOption=t.target.value,this.pageIndex=0,this.paginateAndSort())}nextPage(){this.pageIndex<this.totalPages-1&&(this.pageIndex++,this.paginateAndSort(),this.scrollToTop())}prevPage(){this.pageIndex>0&&(this.pageIndex--,this.paginateAndSort(),this.scrollToTop())}scrollToTop(){const t=document.getElementById("products");t&&t.scrollIntoView({behavior:"smooth"})}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get sortedProducts(){return this.paginatedProducts}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(f.M),e.Y36(u.t2))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-shop"]],decls:31,vars:8,consts:[[3,"breadcrumbData"],["id","products",1,"container","my-5"],[1,"row"],["bdColor","rgba(0,0,0,0.8)","size","medium","color","#80AA27","type","ball-spin-clockwise"],[1,"col-md-6","mb-5"],[1,"col-md-6","mb-5","d-flex","justify-content-md-end"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","default"],["value","popularity"],["value","rating"],["value","latest"],["value","lowToHigh"],["value","highToLow"],["class","col-md-4 col-sm-6","origin","shop",3,"productCardData",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-between"],[1,"",3,"disabled","click"],["origin","shop",1,"col-md-4","col-sm-6",3,"productCardData"]],template:function(o,n){1&o&&(e._UZ(0,"app-navbar")(1,"app-breadcrumb",0),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"ngx-spinner",3),e.TgZ(5,"div",4),e._uU(6),e.qZA(),e.TgZ(7,"div",5)(8,"div")(9,"select",6),e.NdJ("ngModelChange",function(s){return n.selectedSortOption=s})("change",function(s){return n.onSortOptionChange(s)}),e.TgZ(10,"option",7),e._uU(11,"Default Sorting"),e.qZA(),e.TgZ(12,"option",8),e._uU(13,"Sort by Popularity"),e.qZA(),e.TgZ(14,"option",9),e._uU(15,"Sort by Average Rating"),e.qZA(),e.TgZ(16,"option",10),e._uU(17,"Sort by Latest"),e.qZA(),e.TgZ(18,"option",11),e._uU(19,"Sort by Price Low to High"),e.qZA(),e.TgZ(20,"option",12),e._uU(21,"Sort by Price High to Low"),e.qZA()()()()(),e.TgZ(22,"div",2),e.YNc(23,A,1,1,"app-productcard",13),e.qZA(),e.TgZ(24,"div",2)(25,"div",14)(26,"button",15),e.NdJ("click",function(){return n.prevPage()}),e._uU(27," << "),e.qZA(),e.TgZ(28,"button",15),e.NdJ("click",function(){return n.nextPage()}),e._uU(29," >> "),e.qZA()()()(),e._UZ(30,"app-footer")),2&o&&(e.xp6(1),e.Q6J("breadcrumbData",n.shopBreadCrumbData),e.xp6(5),e.lnq(" Showing ",n.pageIndex*n.pageSize+1,"-",(n.pageIndex+1)*n.pageSize>n.totalItems?n.totalItems:(n.pageIndex+1)*n.pageSize," of ",n.totalItems," results "),e.xp6(3),e.Q6J("ngModel",n.selectedSortOption),e.xp6(14),e.Q6J("ngForOf",n.paginatedProducts),e.xp6(3),e.Q6J("disabled",0===n.pageIndex),e.xp6(2),e.Q6J("disabled",n.pageIndex>=n.totalPages-1))},dependencies:[d.sg,b.S,_.c,S.I,P.L,c.YN,c.Kr,c.EJ,c.JJ,c.On,u.Ro],styles:["button[_ngcontent-%COMP%]{background-color:#80aa27;color:#fff;padding:5px 10px;border:none}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{opacity:.9}  .ngx-spinner{display:flex!important;justify-content:center;align-items:center}  .ngx-spinner>div{display:inline-block!important}  .ngx-spinner>div>div{background-color:#80aa27!important}"]})}return i})();var k=l(6593),Z=l(5244),O=l(4817),m=l(9862),M=l(7398);let E=(()=>{class i{constructor(t){this.http=t,this.apiUrl="https://api.vitaparapharma.com/api/v1"}getAllReviews(t){return this.http.get(`${this.apiUrl}/public/review/product/${t}`)}getReview(t,o){return this.http.get(`${this.apiUrl}/public/review/product/${t}`).pipe((0,M.U)(a=>{const s=a.data?.reviews;return Array.isArray(s)?s.find(p=>p.email===o)||null:(console.error("Unexpected response format:",a),null)}))}updateReview(t,o,n,a){const s=`${this.apiUrl}/user/review/update/${t}`,p=new m.WM({"Content-Type":"application/json",Authorization:`Bearer ${a}`}),g={comment:o,rating:n.toString()};return this.http.put(s,g,{headers:p})}addReview(t,o,n,a){const s=`${this.apiUrl}/user/review/new`,p=new m.WM({"Content-Type":"application/json",Authorization:`Bearer ${a}`}),g={productId:t.toString(),comment:o,rating:n.toString()};return this.http.post(s,g,{headers:p})}deleteReview(t,o){const n=`${this.apiUrl}/user/review/delete/${t}`,a=new m.WM({Authorization:`Bearer ${o}`});return this.http.delete(n,{headers:a})}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(m.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var w=l(6022),x=l(9560);const N=["reviewForm"];function V(i,r){1&i&&(e.O4$(),e._UZ(0,"path",54))}function F(i,r){1&i&&(e.O4$(),e._UZ(0,"path",55))}const T=function(i,r){return{"bi-star-fill filled-star":i,"bi-star unfilled-star":r}};function H(i,r){if(1&i&&(e.O4$(),e.TgZ(0,"svg",51),e.YNc(1,V,1,0,"path",52),e.YNc(2,F,1,0,"path",53),e.qZA()),2&i){const t=r.$implicit,o=e.oxw(3);e.Q6J("ngClass",e.WLB(3,T,t<o.singleProduct.rating,t>=o.singleProduct.rating)),e.xp6(1),e.Q6J("ngIf",t<=o.singleProduct.rating),e.xp6(1),e.Q6J("ngIf",t>o.singleProduct.rating)}}const I=function(){return[1,2,3,4,5]};function Q(i,r){1&i&&(e.TgZ(0,"div",48)(1,"span",49),e.YNc(2,H,3,6,"svg",50),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngForOf",e.DdM(1,I)))}function B(i,r){if(1&i&&(e.TgZ(0,"div")(1,"p",56),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij("(",t.reviews.length," customer review)")}}function D(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Q,3,2,"div",47),e.YNc(2,B,3,1,"div",11),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",void 0!==t.singleProduct.rating),e.xp6(1),e.Q6J("ngIf",t.reviews&&t.reviews.length>0)}}function L(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"div",57),e._uU(2),e.ALo(3,"currency"),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,1,null==t.singleProduct?null:t.singleProduct.priceBeforeDiscount,"USD"))}}function U(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"div",58),e._uU(2),e.ALo(3,"currency"),e.qZA(),e.TgZ(4,"div",57),e._uU(5),e.ALo(6,"currency"),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,2,null==t.singleProduct?null:t.singleProduct.priceBeforeDiscount,"USD")),e.xp6(3),e.Oqu(e.xi3(6,5,null==t.singleProduct?null:t.singleProduct.priceAfterDiscount,"USD"))}}function J(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAddToCart(n.singleProduct.productId))}),e._uU(1," Add To Cart "),e.qZA()}}function q(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onRemoveFromCart(n.singleProduct.productId))}),e._uU(1," Remove from Cart "),e.qZA()}}function z(i,r){1&i&&(e.TgZ(0,"button",60),e._uU(1," Please login to add to cart "),e.qZA())}function W(i,r){1&i&&(e.TgZ(0,"button",61),e._uU(1," Out of Stock "),e.qZA())}const $=function(i){return{"filled-heart":i}};function Y(i,r){if(1&i&&(e.ynx(0),e._UZ(1,"i",62),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,$,t.isInWishlist))}}const j=function(i){return{"outlined-heart":i}};function K(i,r){if(1&i&&e._UZ(0,"i",63),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,j,!t.isInWishlist))}}function G(i,r){1&i&&(e.O4$(),e._UZ(0,"path",54))}function X(i,r){1&i&&(e.O4$(),e._UZ(0,"path",55))}function ee(i,r){if(1&i&&(e.O4$(),e.TgZ(0,"svg",51),e.YNc(1,G,1,0,"path",52),e.YNc(2,X,1,0,"path",53),e.qZA()),2&i){const t=r.$implicit,o=e.oxw(2).$implicit;e.Q6J("ngClass",e.WLB(3,T,t<o.rating,t>=o.rating)),e.xp6(1),e.Q6J("ngIf",t<=o.rating),e.xp6(1),e.Q6J("ngIf",t>o.rating)}}function te(i,r){1&i&&(e.TgZ(0,"span",49),e.YNc(1,ee,3,6,"svg",50),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,I)))}function ie(i,r){if(1&i&&(e.TgZ(0,"div",65)(1,"div",46)(2,"div",66)(3,"div",67)(4,"div"),e._UZ(5,"img",68),e.qZA(),e.TgZ(6,"p",69),e._uU(7),e.qZA()()(),e.TgZ(8,"div",70)(9,"div",71)(10,"p",72),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"div",48),e.YNc(14,te,2,2,"span",73),e.qZA()()()(),e.TgZ(15,"div",2)(16,"div",74)(17,"p"),e._uU(18),e.qZA()()()()),2&i){const t=r.$implicit;e.xp6(7),e.Oqu(t.email),e.xp6(4),e.Oqu(e.xi3(12,4,t.dateCreated,"mediumDate")),e.xp6(3),e.Q6J("ngIf",void 0!==t.rating),e.xp6(4),e.Oqu(t.comment)}}function ne(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ie,19,7,"div",64),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.reviews)}}function oe(i,r){1&i&&(e.TgZ(0,"div")(1,"p",75),e._uU(2,"No reviews available for this product."),e.qZA()())}function ae(i,r){1&i&&(e.TgZ(0,"div",76),e._uU(1,"Rating is required."),e.qZA())}function re(i,r){1&i&&(e.TgZ(0,"div",76),e._uU(1,"Comment is required."),e.qZA())}function se(i,r){1&i&&(e.TgZ(0,"div",76),e._uU(1,"Comment must be at least 2 characters."),e.qZA())}function le(i,r){1&i&&(e.TgZ(0,"div",76),e._uU(1,"Comment cannot exceed 200 characters."),e.qZA())}function ce(i,r){1&i&&(e.TgZ(0,"div",35)(1,"p",76),e._uU(2,"Please "),e.TgZ(3,"a",77),e._uU(4,"sign up"),e.qZA(),e._uU(5," or "),e.TgZ(6,"a",78),e._uU(7,"login"),e.qZA(),e._uU(8," to leave a comment."),e.qZA()())}function de(i,r){if(1&i&&(e.TgZ(0,"button",79),e._uU(1,"SUBMIT"),e.qZA()),2&i){const t=e.oxw(),o=e.MAs(56);e.Q6J("disabled",!t.isLoggedIn||o.invalid)}}function pe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",80)(1,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.editReview())}),e._uU(2,"Edit Review"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteReview(n.existingReview.reviewId))}),e._uU(4,"Delete Review"),e.qZA()()}if(2&i){const t=e.oxw(),o=e.MAs(56);e.xp6(1),e.Q6J("disabled",!t.isLoggedIn||o.invalid||t.newReview.comment.length<2||t.newReview.comment.length>200),e.xp6(2),e.Q6J("disabled",!t.isLoggedIn||o.invalid)}}const C=function(){return{standalone:!0}},ue=[{path:"",component:R},{path:":id",component:(()=>{class i{constructor(t,o,n,a,s,p,g){this.route=t,this._ProductService=o,this.sanitizer=n,this.loginService=a,this.cartService=s,this.spinner=p,this.reviewService=g,this.notificationMessage=null,this.notificationType="success",this.isLoggedIn=!1,this.rate=4,this.prodNumber=1,this.activeIndex=0,this.productId="",this.categoryId=0,this.safeProductDescription="",this.isInWishlist=!1,this.isInCart=!1,this.reviews=[],this.relatedProducts=[],this.newReview={rating:0,comment:""},this.currentRating=0,this.existingReview=null,this.selectedQuantity=1}ngOnInit(){this.loginService.isLoggedIn$().subscribe(t=>{this.isLoggedIn=t}),this.route.paramMap.subscribe(t=>{this.productId=t.get("id"),this.isLoggedIn&&(this.checkWishlistStatus(),this.checkCartStatus())}),this.getSingleProduct(),this.loadReviews(),this.isLoggedIn&&this.fetchUserReview(),this.cartService.getSelectedQuantity().subscribe(t=>{this.selectedQuantity=t})}getSingleProduct(){this.spinner.show(),this._ProductService.getSingleProduct(+this.productId).subscribe({next:t=>{this.singleProduct=t.data.product,this.categoryId=this.singleProduct.categoryId,this.getCategoriesById(),this.safeProductDescription=this.sanitizer.bypassSecurityTrustHtml(this.singleProduct.description),this.fetchSelectedQuantity(),this.spinner.hide()},error:t=>{console.log(t),this.spinner.hide()}})}fetchSelectedQuantity(){const t=localStorage.getItem(`product_${this.productId}_quantity`);this.selectedQuantity=t?JSON.parse(t):1}getCategoriesById(){this._ProductService.getCategoryListOfProduct(this.categoryId).subscribe({next:t=>{this.category=t.data.category},error:t=>{console.log(t)}})}hasDiscount(){return this.singleProduct&&this.singleProduct.discount}toggleCartAction(){this.singleProduct&&this.singleProduct.inCart?this.onRemoveFromCart(this.singleProduct.productId):this.singleProduct&&this.onAddToCart(this.singleProduct.productId)}checkCartStatus(){const t=localStorage.getItem(`product_${this.productId}_inCart`);this.isInCart=!!t&&JSON.parse(t)}onAddToCart(t){this.isLoggedIn?this.cartService.updateCart(t,this.selectedQuantity).subscribe(()=>{this.isInCart=!0,localStorage.setItem(`product_${t}_inCart`,"true"),localStorage.setItem(`product_${t}_quantity`,JSON.stringify(this.selectedQuantity)),this.showNotification("Item added to cart","success")},o=>{console.error("Failed to add item to cart:",o),this.showNotification("Failed to add item to cart","error")}):this.showNotification("Please login first.","error")}onRemoveFromCart(t){this.cartService.removeFromCart(t).subscribe(o=>{this.isInCart=!1,localStorage.removeItem(`product_${t}_inCart`),this.showNotification("Item removed from cart","success"),this.selectedQuantity=1},o=>{console.error("Failed to remove item from cart:",o),this.showNotification("Failed to remove item from cart","error")})}showNotification(t,o){this.notificationMessage=t,this.notificationType=o,setTimeout(()=>{this.clearNotification()},3e3)}clearNotification(){this.notificationMessage=null}checkWishlistStatus(){this._ProductService.getWishlist().subscribe({next:t=>{this.isInWishlist=t.some(o=>o.toString()===this.productId.toString())},error:t=>{}})}addToWishlist(t){this._ProductService.addToWishlist(t).subscribe({next:o=>{this.isInWishlist=!0},error:o=>{}})}removeFromWishlist(t){this._ProductService.removeFromWishlist(t).subscribe({next:o=>{this.isInWishlist=!1},error:o=>{}})}toggleWishlist(t){this.isInWishlist?this.removeFromWishlist(t):this.addToWishlist(t)}fetchProductRating(){this._ProductService.getSingleProduct(this.singleProduct.productId).subscribe(t=>{this.singleProduct.reviews=t.rating},t=>{console.error("Error fetching product rating:",t)})}getStars(t){const o=Math.floor(t),n=5-o,a=[];for(let s=0;s<o;s++)a.push(1);for(let s=0;s<n;s++)a.push(0);return a}setRating(t){this.currentRating=t,this.newReview.rating=t}loadReviews(){const t=Number(this.productId);isNaN(t)?console.error("Invalid productId:",this.productId):this.reviewService.getAllReviews(t).subscribe(o=>{o.success?this.reviews=o.data.reviews.map(n=>({...n,dateCreated:new Date(n.dataCreated)})):console.error("Failed to fetch reviews:",o.message)},o=>{console.error("Error fetching reviews:",o)})}fetchUserReview(){this.loginService.isLoggedIn$().subscribe(t=>{if(t&&this.loginService.getAuthToken()){const n=this.loginService.getCurrentUserEmail();this.reviewService.getReview(+this.productId,n).subscribe({next:a=>{a&&a.email===n?(this.existingReview=a,this.newReview.rating=a.rating,this.newReview.comment=a.comment):this.existingReview=null},error:a=>{console.error("Error fetching user review:",a)}})}})}hasUserReviewed(){return null!==this.existingReview}submitReview(){const t=this.loginService.getAuthToken(),o=Number(this.productId);if(isNaN(o))console.error("Invalid productId:",this.productId);else if(this.reviewForm.valid){if(0===this.newReview.rating)return void this.showNotification("Rating is required.","error");if(!this.newReview.comment||this.newReview.comment.length<2||this.newReview.comment.length>200)return void this.showNotification("Comment is required (2-200 characters).","error");this.existingReview?this.reviewService.updateReview(this.existingReview.reviewId,this.newReview.comment,this.newReview.rating,t).subscribe(n=>{console.log("Review updated successfully",n),this.fetchUserReview(),this.loadReviews(),this.showNotification("Review updated successfully","success"),this.resetReviewForm()},n=>{console.error("Error updating review:",n),this.showNotification("Error updating review","error")}):this.reviewService.addReview(o,this.newReview.comment,this.newReview.rating,t).subscribe(n=>{n.success?(this.fetchUserReview(),this.loadReviews(),this.showNotification("Review added successfully","success"),this.resetReviewForm()):(console.error("Failed to add review:",n.message),this.showNotification("Failed to add review: "+n.message,"error"))},n=>{console.error("Error adding review:",n),this.showNotification("Error adding review","error")})}else this.showNotification("Form is invalid. Cannot submit review.","error")}editReview(){if(!this.existingReview)return void console.error("No existing review to edit");const t=this.loginService.getAuthToken();this.reviewForm.valid&&this.newReview.comment.length>=2&&this.newReview.comment.length<=200?this.reviewService.updateReview(this.existingReview.reviewId,this.newReview.comment,+this.newReview.rating,t).subscribe(a=>{a.success?(this.loadReviews(),this.fetchUserReview(),this.showNotification("Review updated successfully","success")):(console.error("Failed to update review:",a.message),this.showNotification("Failed to update review: "+a.message,"error"))},a=>{console.error("Error updating review:",a),this.showNotification("Error updating review","error")}):this.showNotification("Form is invalid or comment length is not within limits.","error")}resetReviewForm(){this.newReview={rating:0,comment:""}}deleteReview(t){const o=this.loginService.getAuthToken(),n=Number(this.productId);isNaN(n)?console.error("Invalid productId:",this.productId):this.reviewForm.valid?this.reviewService.deleteReview(t,o).subscribe(a=>{a.success?(this.resetReviewForm(),this.loadReviews(),this.fetchUserReview(),this.showNotification("Review deleted successfully","success"),this.reviewForm.resetForm()):(console.error("Failed to delete review:",a.message),this.showNotification("Failed to delete review: "+a.message,"error"))},a=>{console.error("Error deleting review:",a),this.showNotification("Error deleting review","error")}):this.showNotification("Form is invalid. Cannot delete review.","error")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.gz),e.Y36(f.M),e.Y36(k.H7),e.Y36(Z.r),e.Y36(O.N),e.Y36(u.t2),e.Y36(E))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-single-product"]],viewQuery:function(o,n){if(1&o&&e.Gf(N,5),2&o){let a;e.iGM(a=e.CRH())&&(n.reviewForm=a.first)}},decls:71,vars:40,consts:[[1,"single-product"],[1,"container","mt-5"],[1,"row"],["bdColor","rgba(0,0,0,0.8)","size","medium","color","#80AA27","type","ball-spin-clockwise"],[1,"col-md-5","position-relative"],[1,"sale-pos"],["alt","",1,"w-100",3,"src"],[1,"col-md-7","px-3","py-2"],[1,"subhead","text-muted",3,"innerHTML"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","mt-3","mb-2"],[4,"ngIf"],[1,"text-muted","desc"],[1,"d-flex","bg-white","py-3"],["buttonLayout","horizontal","spinnerMode","horizontal","inputId","integeronly","decrementButtonClass","p-button-incdec","incrementButtonClass","p-button-incdec","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"ngModel","showButtons","min","max","disabled","ngModelChange"],["class","btn-main",3,"click",4,"ngIf"],["class","btn-main",4,"ngIf"],["class","btn-main","disabled","",4,"ngIf"],[1,"d-flex","align-items-center","mt-3","wish",3,"click"],[2,"cursor","pointer"],[4,"ngIf","ngIfElse"],["notInWishlist",""],[1,"m-0","p-0",2,"cursor","pointer"],[1,"category","my-3"],[1,"fs-5","text-muted"],[1,"fs-6","ms-2"],[1,"row","my-4"],[1,"col-md-6"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","reviews-tab","data-bs-toggle","tab","data-bs-target","#reviews-tab-pane","type","button","role","tab","aria-controls","reviews-tab-pane","aria-selected","true",1,"nav-link","active"],["id","myTabContent",1,"tab-content"],["id","reviews-tab-pane","role","tabpanel","aria-labelledby","reviews-tab",1,"tab-pane","fade","show","active"],["id","add-edit-review-tab","data-bs-toggle","tab","data-bs-target","#add-edit-review-tab-pane","type","button","role","tab","aria-controls","add-edit-review-tab-pane","aria-selected","false",1,"nav-link","active"],["id","add-edit-review-tab-pane","role","tabpanel","aria-labelledby","add-edit-review-tab",1,"tab-pane","fade","show","active"],[1,"mt-4"],[3,"ngSubmit"],["reviewForm","ngForm"],[1,"mb-3"],["for","rating",1,"form-label","me-2"],["id","rating","name","rating","required","",3,"ngModel","cancel","stars","disabled","ngModelOptions","ngModelChange"],["class","text-danger",4,"ngIf"],["id","comment","placeholder","YOUR REVIEW","name","comment","required","","height","150px",1,"form-control",3,"ngModel","disabled","ngModelOptions","ngModelChange"],["class","mt-4",4,"ngIf"],["type","submit","class","submitBtn",3,"disabled",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","align-items-center"],["class","custom-rating-read-only",4,"ngIf"],[1,"custom-rating-read-only"],[1,"custom-star"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#FFAA8F","class","bi bi-star",3,"ngClass",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#FFAA8F",1,"bi","bi-star",3,"ngClass"],["d","M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z",4,"ngIf"],["d","M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z",4,"ngIf"],["d","M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"],["d","M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"],[1,"numreview","text-muted","m-0","p-0","ms-3"],[1,"price","text-black"],[1,"old-price","me-4","text-decoration-line-through","text-muted"],[1,"btn-main",3,"click"],[1,"btn-main"],["disabled","",1,"btn-main"],[1,"pi","pi-heart-fill","me-2",3,"ngClass"],[1,"pi","pi-heart","me-2",3,"ngClass"],["class","review my-2",4,"ngFor","ngForOf"],[1,"review","my-2"],[1,"me-4"],[1,"image-review"],["src","\\assets\\images\\icons\\user.png","loading","lazy","alt","review"],[1,"mb-0","text-uppercase"],[1,"review-details"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0","me-3"],["class","custom-star",4,"ngIf"],[1,"col-12","ps-5","my-4","text-muted","text-uppercase","text-review"],[1,"text-uppercase"],[1,"text-danger"],["routerLink","/auth/register"],["routerLink","/auth/login"],["type","submit",1,"submitBtn",3,"disabled"],[1,"d-flex","justify-content-center"],["type","button",1,"editBtn",3,"disabled","click"],["type","button",1,"removeBtn",3,"disabled","click"]],template:function(o,n){if(1&o&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2),e._UZ(4,"ngx-spinner",3),e.TgZ(5,"div",4)(6,"div",5),e._uU(7,"22 %"),e.qZA(),e._UZ(8,"img",6),e.qZA(),e.TgZ(9,"div",7)(10,"h3"),e._uU(11),e.qZA(),e._UZ(12,"p",8),e.YNc(13,D,3,2,"div",9),e.TgZ(14,"div",10),e.YNc(15,L,4,4,"ng-container",11),e.YNc(16,U,7,8,"ng-container",11),e.qZA(),e.TgZ(17,"p",12),e._uU(18),e.qZA(),e.TgZ(19,"div",13)(20,"p-inputNumber",14),e.NdJ("ngModelChange",function(s){return n.selectedQuantity=s}),e.qZA(),e.YNc(21,J,2,0,"button",15),e.YNc(22,q,2,0,"button",15),e.YNc(23,z,2,0,"button",16),e.YNc(24,W,2,0,"button",17),e.qZA(),e.TgZ(25,"div",18),e.NdJ("click",function(){return n.toggleWishlist(n.singleProduct.productId)}),e.TgZ(26,"div",19),e.YNc(27,Y,2,3,"ng-container",20),e.YNc(28,K,1,3,"ng-template",null,21,e.W1O),e.qZA(),e.TgZ(30,"p",22),e._uU(31),e.qZA()(),e.TgZ(32,"div",23)(33,"span",24),e._uU(34,"Category: "),e.qZA(),e.TgZ(35,"span",25),e._uU(36),e.qZA()()()(),e.TgZ(37,"div",26)(38,"div",27)(39,"ul",28)(40,"li",29)(41,"button",30),e._uU(42,"REVIEWS"),e.qZA()()(),e.TgZ(43,"div",31)(44,"div",32),e.YNc(45,ne,2,1,"div",11),e.qZA(),e.YNc(46,oe,3,0,"div",11),e.qZA()(),e.TgZ(47,"div",27)(48,"ul",28)(49,"li",29)(50,"button",33),e._uU(51),e.qZA()()(),e.TgZ(52,"div",31)(53,"div",34)(54,"div",35)(55,"form",36,37),e.NdJ("ngSubmit",function(){return n.submitReview()}),e.TgZ(57,"div",38)(58,"label",39),e._uU(59,"Rating"),e.qZA(),e.TgZ(60,"p-rating",40),e.NdJ("ngModelChange",function(s){return n.newReview.rating=s}),e.qZA(),e.YNc(61,ae,2,0,"div",41),e.qZA(),e.TgZ(62,"div",38)(63,"textarea",42),e.NdJ("ngModelChange",function(s){return n.newReview.comment=s}),e.qZA(),e.YNc(64,re,2,0,"div",41),e.YNc(65,se,2,0,"div",41),e.YNc(66,le,2,0,"div",41),e.qZA(),e.YNc(67,ce,9,0,"div",43),e.YNc(68,de,2,1,"button",44),e.YNc(69,pe,5,2,"div",45),e.qZA()()()()()()()(),e._UZ(70,"app-footer")),2&o){const a=e.MAs(29),s=e.MAs(56);e.xp6(8),e.Q6J("src",null==n.singleProduct?null:n.singleProduct.pictures[0],e.LSH),e.xp6(3),e.Oqu(null==n.singleProduct?null:n.singleProduct.name),e.xp6(1),e.Q6J("innerHTML",n.safeProductDescription,e.oJD),e.xp6(1),e.Q6J("ngIf",n.singleProduct),e.xp6(2),e.Q6J("ngIf",!n.hasDiscount()),e.xp6(1),e.Q6J("ngIf",n.hasDiscount()),e.xp6(2),e.hij(" ",null==n.singleProduct?null:n.singleProduct.about," "),e.xp6(2),e.Q6J("ngModel",n.selectedQuantity)("showButtons",!0)("min",1)("max",null==n.singleProduct?null:n.singleProduct.stockQuantity)("disabled",!n.isLoggedIn||0==(null==n.singleProduct?null:n.singleProduct.stockQuantity)||n.isInCart),e.xp6(1),e.Q6J("ngIf",n.isLoggedIn&&!n.isInCart&&(null==n.singleProduct?null:n.singleProduct.stockQuantity)>0),e.xp6(1),e.Q6J("ngIf",n.isLoggedIn&&n.isInCart),e.xp6(1),e.Q6J("ngIf",!n.isLoggedIn),e.xp6(1),e.Q6J("ngIf",n.isLoggedIn&&0===(null==n.singleProduct?null:n.singleProduct.stockQuantity)),e.xp6(3),e.Q6J("ngIf",n.isInWishlist)("ngIfElse",a),e.xp6(4),e.Oqu(n.isInWishlist?"Remove from Wishlist":"Add to Wishlist"),e.xp6(5),e.Oqu(null==n.category?null:n.category.name),e.xp6(9),e.Q6J("ngIf",n.reviews&&n.reviews.length>0),e.xp6(1),e.Q6J("ngIf",!n.reviews||0===n.reviews.length),e.xp6(5),e.hij(" ",n.existingReview?"EDIT REVIEW":"ADD REVIEW"," "),e.xp6(9),e.Q6J("ngModel",n.newReview.rating)("cancel",!1)("stars",5)("disabled",!n.isLoggedIn)("ngModelOptions",e.DdM(38,C)),e.xp6(1),e.Q6J("ngIf",s.submitted&&!n.newReview.rating),e.xp6(2),e.Q6J("ngModel",n.newReview.comment)("disabled",!n.isLoggedIn)("ngModelOptions",e.DdM(39,C)),e.xp6(1),e.Q6J("ngIf",s.submitted&&!n.newReview.comment),e.xp6(1),e.Q6J("ngIf",n.newReview.comment&&n.newReview.comment.length<2),e.xp6(1),e.Q6J("ngIf",n.newReview.comment&&n.newReview.comment.length>200),e.xp6(1),e.Q6J("ngIf",!n.isLoggedIn),e.xp6(1),e.Q6J("ngIf",!n.existingReview),e.xp6(1),e.Q6J("ngIf",n.existingReview)}},dependencies:[d.mk,d.sg,d.O5,h.rH,b.S,_.c,w.iG,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.On,c.F,x.Rn,u.Ro,d.H9,d.uU],styles:[".single-product[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Marcellus,Helvetica Neue;font-weight:400;font-size:30px;line-height:38px;letter-spacing:10px}.single-product[_ngcontent-%COMP%]   .subhead[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:300;font-size:16px;line-height:30px;color:#000}.single-product[_ngcontent-%COMP%]   .numreview[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:300;font-size:12px;line-height:14px;color:#000}.old-price[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;font-size:21px;line-height:20px}.single-product[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-family:Rubik,sans-serif;font-weight:300;font-size:16px;line-height:27px}.single-product[_ngcontent-%COMP%]   .wish[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;font-size:16px}.single-product[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:30px;margin-top:30px}.related[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Rubik,sans-serif;color:#000;font-size:24px;font-weight:400;line-height:28px;text-align:center;letter-spacing:4px;margin-bottom:40px}.image-review[_ngcontent-%COMP%]{display:flex;align-items:center}.image-review[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:20px}.image-review[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.review-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.text-review[_ngcontent-%COMP%]{font-size:14px;font-weight:300;line-height:24px}.card[_ngcontent-%COMP%]{background-color:#fff!important}.product-card[_ngcontent-%COMP%]{box-shadow:#63636323 0 2px 8px;padding:10px;text-align:center;border:0}.price[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-top:10px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:195px}.custom-notification[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;border-radius:8px;background-color:#000c;color:#fff;font-size:18px;text-align:center;z-index:1000;box-shadow:0 8px 16px #0000004d}.success[_ngcontent-%COMP%]{background-color:#80aa27}.error[_ngcontent-%COMP%]{background-color:#f44336}.message[_ngcontent-%COMP%]{margin-bottom:10px}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;font-weight:700}i[_ngcontent-%COMP%]{font-size:1.5rem}.filled-heart[_ngcontent-%COMP%]{color:red}.outlined-heart[_ngcontent-%COMP%]{color:inherit}  .ngx-spinner{display:flex!important;justify-content:center;align-items:center}  .ngx-spinner>div{display:inline-block!important}  .ngx-spinner>div>div{background-color:#80aa27!important}.submitBtn[_ngcontent-%COMP%]{width:100%;background-color:#80aa27;color:#fff;padding:10px;border:none;outline:none}.editBtn[_ngcontent-%COMP%]{width:40%;background-color:#80aa27;color:#fff;padding:10px;border:none;outline:none;border:1px solid #80AA27;margin-right:20px}.removeBtn[_ngcontent-%COMP%]{width:40%;background-color:#fff;color:#80aa27;padding:10px;border:1px solid #80AA27;outline:none}form[_ngcontent-%COMP%]{background-color:#fff;padding:30px}"]})}return i})(),title:"single product"}];let ge=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(ue),h.Bz]})}return i})();var he=l(8169),y=l(5219),me=l(2537),ve=l(4562),fe=l(7778),be=l(4480),_e=l(3259);let qe=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[d.ez,y.m8,_e.z,be.T,fe.q,me.w,ve.X,y.m8]})}return i})();var ze=l(336);let We=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[d.ez,ge,he.m,w.Xt,c.u5,x.L$,qe,ze.hJ,u.ef]})}return i})()}}]);